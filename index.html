<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <script src="https://cdn.jsdelivr.net/npm/openseadragon@2.4.2/build/openseadragon/openseadragon.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://js.arcgis.com/4.17/esri/css/main.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/json2csv@4.2.1"></script>
    <script src="https://js.arcgis.com/4.17/"></script>
    <title>AGSL Nautical Chart Explorer</title>    
  </head>
  <body>
    <!-- Image and text -->
<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="#">
    <img src="img/compass.png" width="45" height="45" class="d-inline-block align-top" alt="" loading="lazy">
    AGSL Nautical Chart Explorer
  </a>
</nav>    
    <div id="viewDiv"></div>
    <div class="modal" id="dataModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Download Chart Data</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label for="cars">Chart series:</label>
        <select name="series" id="series">                          
        </select>
         <label for="cars">Format:</label>
        <select name="format" id="format">         
            <option value="csv">CSV</option>
            <option value="geojson">GeoJSON</option>              
        </select>
      </div>
      <div class="modal-footer">
        <button type="button" id="getDataBtn" class="btn btn-primary">Download</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal viewer" id="imageModal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div id="openseadragon1"></div>
      </div>      
    </div>
  </div>
</div>
<div class="modal" id="infoModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">About this Project</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h5>About this Application</h5>
        This application is a discovery aid for rare international nautical charts from the 19th and early 20th centuries. The printed Nautical Chart collection at the American Geographical Society Library contains a variety of nautical charts from around the world. Nautical charts are not only valuable in the water navigation information they provide, they also tend to provide information about city location, street layout, building locations, and other historic information.<br><br>
        This app will continue to be updated as the collection is digitized and processed. The project is an early use case of the <a href="https://openindexmaps.org/" target="_blank" rel="noopener noreferrer">OpenIndexMaps</a> schema.<br><br>
        Questions about this application, the collection, or the American Geographical Society Library at UW-Milwaukee should be directed to agsl@uwm.edu. Check out other  <a href="https://uwm.edu/libraries/agsl/agsldata/webapps/" target="_blank" rel="noopener noreferrer">AGSL Discovery Applications</a> and the <a href="https://uwm.edu/libraries/agsl" target="_blank" rel="noopener noreferrer">AGSL Homepage</a>.<br><br>
        <h5>Using this Application</h5>
        <img src="img/select.png" alt="select dataset" class="responsive">
        First select a chart series of interest from the dropdown menu, by default the application displays 'French Charts.' Pan and zoom
        around the map to locate charts in an area of interest. Clicking on any chart will reveal information about each chart. Use the <strong>Full Image</strong> button in the popup to display a high-resoltion, zoomable image of the select chart. <br><br>
        <img src="img/fullimage.png" alt="view full image" class="responsive"><br>
        In the event that there are overlapping charts or charts that cover the same geographic extent, use the forward and back arrows in the popup to cycle through the selected charts.<br><br>
        <img src="img/polygons.png" alt="nautical chart polygons" class="responsive"><br>
        You can also use the <strong>Search</strong> bar to locate any chart by geographic location or its 'Title' or 'label.'<br><br>
        <img src="img/search.png" alt="search bar" class="responsive"><br><br>
        <h5>Download Data</h5>         
        <img src="img/download.png" alt="download dataset" class="responsive">
        You can use the download data button to select and download an entire chart series in either GeoJSON or CSV format. First select
        a chart series and then select the data type and click the <strong>Download</strong> button.<br><br>
        <h5>Credits</h5>
        Application Developer: <a href="https://rcowling.github.io" target="_blank" rel="noopener noreferrer">Bob Cowling</a>        
      </div>
      
    </div>
  </div>
</div>
<script src="main.js"></script>
  </body>
</html>